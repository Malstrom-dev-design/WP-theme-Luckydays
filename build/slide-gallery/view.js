(()=>{function e(e){let t,n,o,r=window.innerWidth;r>799?(t="desktop",n=5):r<460?(t="mobile",n=1):r>461&&r<800&&(t="tablet",n=3);const i=e.querySelector(".gallery-wrapper"),s=e.querySelector(".gallery"),l=e.querySelector(".previous"),a=e.querySelector(".next"),c=36;let d,h,u;const g=JSON.parse(s.dataset.images||"[]");g.forEach(e=>{(new Image).src=e});let p=0,m=0,f=!1;function y(){d=i.getBoundingClientRect().width;const e=1===n?2:n-1;h=1===n?d-c*e:(d-c*e)/e,u=h/(9/16),i.style.height=`${u}px`,s.style.height=`${u}px`}function E(){v(1===n?-h:-h/2-h-c,g[g.length-1]),m=g.length-1;let e=0;for(let t=0;t<n;t++){let o;o=1===n?c:h/2*-1+(36*t+t*h),v(o,g[e]),e++,e===g.length&&(e=0),t+1===n&&(p=e,v(1===n?d:d+h/2+c,g[p]))}}function v(e,t,n){const o=document.createElement("img");o.src=t,o.dataset.position=e,o.style.left=`${e}px`,n?s.prepend(o):s.append(o)}function L(){if(f)return;f=!0,p+1===g.length?p=0:p++,m+1===g.length?m=0:m++;const e=s.firstElementChild;e.addEventListener("transitionend",()=>{e.remove()}),s.querySelectorAll("img").forEach(e=>{let t;t=parseInt(e.dataset.position)-h-c,e.dataset.position=t,e.style.left=`${t}px`}),v(1===n?d:d+h/2+c,g[p]),setTimeout(()=>{e&&e.remove(),f=!1},300)}function S(){if(f)return;f=!0,p-1==-1?p=g.length-1:p--,m-1==-1?m=g.length-1:m--;const e=s.lastElementChild;e.addEventListener("transitionend",()=>{e.remove()}),s.querySelectorAll("img").forEach(e=>{const t=parseInt(e.dataset.position)+h+c;e.dataset.position=t,e.style.left=`${t}px`}),v(1===n?-h:-h/2-h-c,g[m],!0),setTimeout(()=>{e&&e.remove(),f=!1},300)}y(),E(),a.addEventListener("click",L),l.addEventListener("click",S);let w=0,T=0,b=0;i.addEventListener("touchstart",e=>{w=e.changedTouches[0].screenX,touchStartY=e.changedTouches[0].screenY}),i.addEventListener("touchend",e=>{T=e.changedTouches[0].screenX,b=e.changedTouches[0].screenY,function(){const e=T-w,t=b-touchStartY;Math.abs(e)>Math.abs(t)&&Math.abs(e)>50&&(e>0?S():L())}()}),window.addEventListener("resize",()=>{o&&clearTimeout(o),o=setTimeout(()=>{r=window.innerWidth,"desktop"!=t&&r>799&&(t="desktop",n=5),r<460&&(t="mobile",n=1),r>461&&r<800&&(t="tablet",n=3),s.innerHTML="",y(),E()},300)})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".slide-gallery.rendered").forEach(e)})})();